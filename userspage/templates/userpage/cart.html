{% extends 'layouts.html' %}

{% block title %}
<title> cart</title>
{% endblock %}


{% block main_content %}
{% include 'userpage/header.html' %}
<!-- cart table -->
<div class="container">
<div class="d-flex justify-content-center">
    <div class="col-md-10">
        <h2>My cart</h2>

        {% for msg in messages%}
        {% if msg.level == DEFAULT_MESSAGE_LEVELS.SUCCESS %}
        <div class="alert alert-sucess">
            {{msg}}
        </div>
         {% endif %}

         {% if msg.level == DEFAULT_MESSAGE_LEVELS.ERROR %}
        <div class="alert alert-danger">
            {{msg}}
        </div>
         {% endif %}
         {% endfor %}
         
       <table class="table table-bordered tabled-striped">
        <tr>
            <th>Product name</th>
            <th>Price</th>
            <th>Image</th>
            <th>Action</th>
        </tr>
      {% for i in items %}
      <tr>
        <td>{{i.product.product_name}}</td>
        <td>{{i.product.product_price}}</td>
        <td><img src="/{{i.product.product_image}}" alt="{{i.product.product_name}}" width="100"></td>
        <td>
            <a href="/postorder/{{i.product.id}}/{{i.id}}" class="btn btn-success btn-sm">Buy now</a>
            <a href="/removecart/{{i.id}}" onclick="return confirm('Are you sure?')" class="btn btn-danger btn-sm">Delete</a>

        </td>
      </tr>

      {% endfor %}
       </table>
            </div>
        </form>
    </div>
</div>
</div>
<!-- end cart table -->


{% include 'userpage/footer.html' %}
{% endblock %}